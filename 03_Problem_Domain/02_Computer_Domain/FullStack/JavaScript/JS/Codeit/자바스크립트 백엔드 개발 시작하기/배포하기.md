## 환경변수
dotenv사용
```js
import { DATABASE_URL } from './env.js';
```
사용후
```js
import * as dotenv from 'dotenv';
dotenv.config();
```
```js
mongoose.connect(process.env.DATABASE_URL).then(() => console.log('Connected to DB'))
```
```js
import * as dotenv from 'detenv';
dotenv.config();

mongoose.connect(process.env.DATABASE_URL).then(() => console.log(process.env.PORT || 3000), () => console.log('Server Started'));
```
1. 환경변수를 더 안전하게 관리할수 있다는 점이다.
2. .gitignore으로 원격저장소에 올리지않게만 하면된다.
3. .env이므로 기본적으로 숨겨져있다.

**CORS오류**
Cross-Origin Resource Sharing을 허용한다. '프론트엔드 코드에서 배포된 API를 사용할 수 있게 하려면 CORS를 허용해야한다.'

## CORS허용하기
```node.js
npm insatll cors
```
```js
import cors from 'cors';

const app = express();

app.use(cors());
app.use(express.json());
```
> CORS가 허용되서 프론트엔드 코드에서 API를 사용할수있다.

```js
const app = express();

const corsOptions = {
	origin: ['https://127.0.0.1:3000','https://my-todo.com'],
}

app.use(cors(corsOptions));
app.use(express.json());
```
> 프론트 엔드 주소들을 추가하면된다.

## 배포하기
**render**
render는 배포의 많은 과정을 자체적으로 처리해준다.

깃허브에 업로드하고
```bash
git init
echo 'node_modules/\n.env\n*.http\n*.log\n*.gz\n.DS_Store' > .gitignore
```
> .env .http .log . gz .DS_Store
 또한 node_modules는 많은 용량을 차지하고 package.json에 있는 dependencies목록을 보고 패키지들을 설치할 수 있기에 node_modules자체를 업로드할 필요가없다.
