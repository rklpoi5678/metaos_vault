## Dependant Query 란?
두 쿼리가 의존관계가 있어 어떤 특정 순서대로 실행
첫  번째 쿼리는 유저의 정보를받아 오고,  두번쨰 쿼리는 바당온 유저의 정보에서 아이디를  이용해 해당 유저의 프로젝트를 받아 오게된다.
```js
const {data:  user} = useQuery({
	queryKey: ['user', email],
	queryFn: getUserByEmail,
});

const userId = user?.id

const {
	data: projects,
} = useQuery({
	queryKey: ['projects', userId],
	queryFn: getProjectsByUser,
});
```
userId값이 있을때만 실행하도록  싶으면 다음과 같이 설정
userId,true,false
```js
const { data: user } = useQuery({
  queryKey: ['user', email],
  queryFn: getUserByEmail,
});

const userId = user?.id

const {
  data: projects,
} = useQuery({
  queryKey: ['projects', userId],
  queryFn: getProjectsByUser,
  enabled: !!userId,
});
```

**usequery()에서 enabled값 사용하기**
로그인기능,
```js
const BASE_URL = '...';
// ...
export async function getUserInfo(username) {
	const response = await fetch(`${BASE_URL}/users/${username}`);
	return await response.json();
}
```
```js
import { useState } from 'react';
import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';
import { getPosts, uploadPost, getUserInfo } from './api';

function HomePage() {
  const [currentUsername, setCurrentUsername] = useState('');

  // ...

  const { data: userInfoData, isPending: isUserInfoPending } = useQuery({
    queryKey: ['userInfo'],
    queryFn: () => getUserInfo(currentUsername),
    enabled: !!currentUsername,
  });
  
    // ...

  const handleLoginButtonClick = () => {
    setCurrentUsername('codeit');
  };  

  const loginMessage = isUserInfoPending
    ? '로그인 중입니다...'
    : `${userInfoData?.name}님 환영합니다!`;

  if (isPending) return '로딩 중입니다...';

  if (isError) return '에러가 발생했습니다.';

  const posts = postsData?.results ?? [];

  return (
    <>
      <div>
        {currentUsername ? (
          loginMessage
        ) : (
          <button onClick={handleLoginButtonClick}>codeit으로 로그인</button>
        )}
        <form onSubmit={handleSubmit}>
          <textarea
            name="content"
            value={content}
            onChange={handleInputChange}
          />
          <button disabled={!content} type="submit">
            업로드
          </button>
        </form>
      </div>
      <div>
        <ul>
          {posts.map((post) => (
            <li key={post.id}>
              {post.user.name}: {post.content}
            </li>
          ))}
        </ul>
      </div>
    </>
  );
}

export default HomePage;

```