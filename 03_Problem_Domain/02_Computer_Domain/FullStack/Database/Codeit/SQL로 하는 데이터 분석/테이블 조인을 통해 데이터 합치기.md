## Foreign Key란?
테이블을 참조할수있게 하는 연결고리 역할을 하는것이 외래키이다.
데이터베이스 구조와 테이블 간의 관계를 파악하기가 훨씬 수월하다.

## 조인할 때 테이블에 alias붙이기
```sql
SELECT 
	i.id,
	i.name,
	s.item_id,
	s.inverntory_count
FROM item AS i RIGHT OUTER JOIN stock AS s
ON i.id = s.item_id
```

## 결합 연산과 집합 연산
테이블을 합치는 연산은 '결합 연산' 과 '집합 연산'이 있다.
결합연산은 테이블을 가로방향으로 합치는것이고
집합 연산은 테이블을 세로방향으로 합치는 연산이다.

컬럼을 기준으로 같은 값을 가진 로우들을 가로방향으로 이어붙이는 작업을 했으니 결합연산에 해당한다.

집합 연산은 set처럼 집합 관점에서 각 영역이 해당하는 부분
# 1. A **U B**
```sql
select * from member_A
UNION
select * from member_B
```
> 2테이블에 공통적으로 갖는 원소 중복을 제거하고 하나만 표시되며 UNION ALL을 해버린다면 두 테이블을 합칠때 중복 로우를 제거하는 작업은 하지 않는다.

# **2. A ∩ B**
```sql
select * from member_A
INTERSECT
select * from member_B
```
> a와 b 에 공통된 로우들을 포함
mysql에는 아직 지원하지않는다는 소식

# **3. A - B**
```sql
select * from member_A
MINUS
select * from member_B
```
> 차집합은 MINUS연산자 및 EXCEPT연산자로 구할수있다.

# **4. B - A**
```sql
select * from member_B
MINUS
select * from member_A
```
> B에대한 A에 차집합

## 같은 종류의 테이블 조인하기
```sql
select 
    old.id AS old_id,
    old.name AS old_name,
    new.id AS new_id,
    new.name AS new_name
from item AS old RIGHT OUTER JOIN item_new AS new
ON  old.id = new.id
WHERE old.id IS NULL
```
> 이런식으로 새로 추가된 테이블을 볼수있다. RIGHT OUTER JOIN을  하면서 new에서 새로생긴값이 old에서는 null로 표시되는데 이때 where절로  널을 가져오면 old기준으로 추가된 행들을 볼수있다.

INNER JOIN으로 둘다 같은 데이터를 가지고있는 데이터를 볼수있다.
UNION은 중복을 허용하지 않으면서 테이블들을 합칠수있다.

LEFT(RIGTH) OUTER JOIN은 어느테이블 기준으로 볼수있게 할수있다.
조인된 기준으로 두 컬럼의 이름이 같으면 on 대신 using()을 사용할수있다.

외래키가 있을때 참조당하는 테이블을 부모테이블
참조하는 테이블을 자식테이블이라고 한다.

데이터타입이 같고 컬럼이 같은 의미를 가진다면 굳이 외래키로 설정된 컬럼을 기준으로 조인시키지 않아도된다. (old.id = new.id 부분)
