Elastic Compute Cloud (탄력적인 클라우드 컴퓨터)
EC2를 늘린다라고  하면 가상머신(인스턴스)를 하나 더 빌린다고 이해하면된다.
필요한 사양의  인스턴스를 갖다 쓸수있다.

데이터보관  용도, 코드실행, 서버구축용으로 사용할수있다.

## 인스턴스 생성하기
어떤 운영체제를  쓸지 정해준다. 내가 원하는 목표에서 지원해주는 프로그램들이 들어있는 인스턴스를 생성해준다. 다양한 AMI로 커스텀한 세팅을  쓸수있다.

인스턴스  유형을  사용해서 사양(스펙)을 고를수있다.
키페어(로그인) 생성 >  이름 , 키 유형 등 설정 > 키(pem) 파일을 절 저장한다.(신분증이기에 안전하게 보관해야한다.)

방화벽 설정 > SSH사용할것이기에 트래픽 허용 (위치 설정가능) > 스토리지 구성(너무 큰 용량을 설정하면 비용이  크게 발생할수있다.) USB같이 용량을 추가할수있다. > .. >  인스턴스 상태가 실행중이라면 EC2가 만들어진것이다.

## IP 주소와  VPC
컴퓨터 네트워크에는 퍼블릭 네트워크와 프라이빗 네트워크로 구분할수있다.
퍼블릭은 인터넷처럼 공개되어있고, 프라이빗은 접속이 제한된 네트워크이다.
프라이빗 IP 주소는 각 네트워크 내에서만 고유하면된다.
>  집에 있을때와 카페에 있을 때 내 노트북은 다른 프라이빗 IP  주소를 사용한다.

어떤  컴퓨터들은 인터넷과 프라이빗 네트워크에 동시에  연결되기도한다. 공유가가 그렇다.
집에서 통신하는 컴퓨터,노트북,TV등은 인터넷과 직접 연결되어있지 않고 공유기를  거쳐서 인터넷과 통신하게된다.
> 프라이빗 IP 주소를  통해 집안에 다른 장치와 통신하고, 퍼블릭 IP주소를 통해 인터넷과 통신한다.

EC2도 공유기 처럼 프라이빗 네트워크와 인터넷과 동시에 연결되어있다. 그래서 퍼블릭,프라이빗 IP주소를 가지고있는것이다.
EC2는VPC(Virtual Private Cloud)라고 부르는  프라이빗 네트워크 안에생성된다.
한 VPC 안  EC2 인스턴스 여러 대가 있을수있다.![[Pasted image 20251004012750.png]]
프로젝트마다 VPC를 만들어 서로 다른 서비스의 네트워크를 분리하는것도 가능하다.
![[Pasted image 20251004012948.png]]
이런식으로 1 인스턴스는 유저의  요청처리 서버, 2인스턴스는  유저의 데이터를  저장하게  만들수있다.(이는 도커와 유사), 이런 구조에서는 2인스턴스는 1인스턴스의 프라이빗IP로 통신이 가능하지만 VPC외부에서 직접 접근하는 것이 불가능하다. 서버 역활을 하는  인스턴스를 거치지 않고는 유저 데이터를 전달받을 수 없다. 유저 데이터가 외부에 노출될 위험 적다.

## 인스턴스에  연결하기(macOS)
 SSH 클라이언트 
 프라이빗 키로 이동하여
 chmod 400 "private key name"을  입력하여 키를 공개적으로 볼 수 없게한다.
 퍼블릭 DNS를 사용하여 인스턴스에 연결한다.
> ssh -i "private key name.pem" ec-user@ec2-3-38-246..... 

uname으로 인스턴스 이름 알수있고 logout으로 로그아웃을  할수있다.
 ctrl +  D 로 연결을 해재할수있다.
 (AWS에서는 더쉽게 인터넷에서  사용할수있게 클라이언트를 지원해준다.)
>둘중에 선호하는 방법을  사용한다.

## 인스턴스에 연결하기(Windows)
윈도우에 ssh 을 사용할수있는지 확인한다.
해당 프라이빗키의 권한을 바꾸면된다. 속성 >  권한 > 고급 보안 설정  > 상속 사용 안함 >  현재 로그인된 유저를 제외하고 다 삭제하고 권한을  읽기만 체크하시면된다.
퍼블릭 DNS를 사용하여 인스턴스에  연결한다.