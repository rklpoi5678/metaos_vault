## 클라우드란?
남의 컴퓨터를 빌리는것이다. 원격으로 접속해서 가상 컴퓨터를 빌리는것이다.
쉽게 사용하고 반납할 수 있는 컴퓨터 자원
클라우드 컴퓨터는 클라우드에 어디서너 편리하게 접근할 수 있게 해주는 기술이다.

**온프레미스(On-premise)**
premise: "땅,부지"
기업이 자체적으로 서버를 구축하고 운영하는 방식

클라우드는 클릭 몇번으로 서버를 구축할수있으며,
비용효율적이다.
시장 상황에  맞춰 유연하게 서버를 증축, 감축할수있다.

AWS를 사용할 떄는 사용할 서비스의 과금 방식을 확인하는 습관이 중요하다. 사용이 끝난 서비스를 제떄 반납하지 않으면 의도하지 않은 비용이 발생할수있다.

## 루트 유저와 IAM유저
루트 유저 = 마스터유저
-  계정에 관한 모든  권한
- 각 계정에 딱 한명
- 결제 정보 변경 & 계정 삭제가능
- 모든 리소스에 접근 가능!

IAM 유저 = 일반유저
- 권한이 있는 리소스에 접근가능
- 결제 정보 변경 안되고 계정 삭제 불가능

루트에서 해당 IAM유저에게 해당권한을 주면  해당권한이 있는 IAM 유저가 새로운 유저를 받을수있다.
IAM유저는 사람만 나타내는것이 아니라 웹사이트도 나타낸다.
해댕  서비스에 IAM유저를 만들수있다. 해당리소스를 쓰게  만들수있다.

엑세스 키가 탈취될 위험이 있어 루트유저만 사용해서 한다면 전부 탈취당할위험과 서비스들 전체가 위험, 데이터를 과도하게 써서 비용이  엄청나가는 문제가 생기기때문에
IAM유저를 만들어서 관리하게된다.

## 정책
AWS에서는  정책이란것을 통해 권한을 정의한다.
![[Pasted image 20251004010153.png]]
반대로 정책을 리소스에 연결하면 해당 리소스에 어떤 유저가 접근할 수 있는지 정의하는 것이다.
![[Pasted image 20251004010226.png]]
충돌이 일어날때에는 보수적으로(정책이 서로  상충할경우) 해석되어 접근이 거부된다. (예를 들어 유저 A에게 리소스 S에 접근할 수 있는 정책을 연결하고, 리소스 S에 사용자 A의 접근을 차단하는 정책을 연결하면 두 정책이 서로 상충하기 때문에 접근이 거부됩니다.)
![[Pasted image 20251004010318.png]]
정책은 단순한 JSON 형식의 텍스트이다.
```JSON
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "[[s3]]:GetObject",
      "Resource": "arn:aws:[[s3]]:::example-bucket/*"
    },
    {
      "Effect": "Deny",
      "Action": "[[s3]]:PutObject",
      "Resource": "arn:aws:[[s3]]:::example-bucket/*"
    }
  ]
}
```
- Version: 정책의 syntax 버전
- Statement라는 배열 안에 여러 Statement(권한의 최소 단위)를 정의할 수 있음.
    - 각 Statement는 다음 요소로 이루어져 있음.
        - Resource: 접근하고자 하는 리소스
        - Action: 접근 유형 (Get, Put 등)
        - Effect: 접근을 허용할지 차단할지
        - Resource, Action, Effect 외에도 [다른 요소](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html)들을 통해 세부 사항을 통제할 수 있음.
> JSON해석하면  [[S3]]버킷의 객체를 읽는 것은 허용하지만, 새로운  객체를 추가하는것은 차단한다.

## IAM 유저 생성하기
IAM >  사용자  > 사용자 생성 > 사용자 콘솔 > 콘솔에 대한 사용자 엑세스  권한  설정 > 사용자 지정  암호로 원하는 패스워드  설정

권한 설정에서 >   IAM에 그룹을 만들어 그룹전채에  권한을 주거나 개인적으로 줄수있다. > 권한 설정  IAMFullAccess + Ec2instance + S3FullAccess + RDSFullAccess (실습을  위한 해당  서비스에 모든  권한을 받는다) > 태그 추가(키-값으로 리소스를 식별하는데 도움을 준다.)

IAM유저로 계정아이디를 넣고 유저이름과 비밀번호를 입력한다.

## 리전과 가용영역
여러 컴퓨터가 모인곳을 데이터 센터라고 하고  해당국가 해당위치에 여러 데이터 센서가 있어서 그 데이터 리전에서  데이터센터에서 컴퓨터를 빌리는것이다.

생각할것
1. 네트워크 전송 속도  : 거리가 멀수록 전송속도가 느려짐(서비스 고객과 가까이있는  리전을 이용하는것을  추천한다.) 
2. 법 제도적  이유(리전 선택의 중요성) :  해당  국가의 데이터센터를 이용할것을  권장하고있다.
3. 서비스의  차이:  AWS app  Runner, AWS AppFabric , AWS Codeartifact등 미국 버지니아 북부에서는 제공되지만 서울에서는 제공되지  않는 서비스
4. 비용: 리전에따라 전기세,부동산,세금,인프라에 따른 금액차이가 난다.

리전을  알려면  가용영역을 알아야한다.
가용영역(Availability Zone,  AZ) 보통  3개에서 4개정도 묶어서 가용영역을 잡고, 일정 한 간격을 두고 설치된다. 한 데이터센터가 지장이 생겨도 여러 가용영역이 지장을 받지않습니다.
